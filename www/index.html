<!DOCTYPE html>
<html lang="en">
<head>
    <title>WGL Molecule Viewer</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <link rel="stylesheet" href="css/main.css">
</head>
<body>

<!--<script src="lib/three.js"></script>
<script src="lib/TrackballControls.js"></script>
<script src="lib/Projector.js"></script>
<script src="lib/CanvasRenderer.js"></script>-->

<div id="background">
    <div id="wglContent"></div>

    <div id="wglInfo"></div>

    <div id="wglControls">

        <div id = "chooserControls">
            <select id="pdbSelect">
                <option value="pdb/bsheet.pdb">bsheet.pdb</option>
                <option value="pdb/diamondlarge.pdb">diamondlarge.pdb</option>
                <option value="pdb/h2o.pdb">h2o.pdb</option>
                <option value="pdb/helix2.pdb">helix2.pdb</option>
                <option value="pdb/aa/ala.pdb">ala.pdb</option>
                <option value="pdb/aa/arg.pdb">arg.pdb</option>
                <option value="pdb/aa/asn.pdb">asn.pdb</option>
                <option value="pdb/aa/asp.pdb">asp.pdb</option>
                <option value="pdb/aa/cys.pdb">cys.pdb</option>
                <option value="pdb/aa/gln.pdb">gln.pdb</option>
                <option value="pdb/aa/glu.pdb">glu.pdb</option>
                <option value="pdb/aa/gly.pdb">gly.pdb</option>
                <option value="pdb/aa/his.pdb">his.pdb</option>
                <option value="pdb/aa/ile.pdb">ile.pdb</option>
                <option value="pdb/aa/leu.pdb">leu.pdb</option>
                <option value="pdb/aa/lys.pdb">lys.pdb</option>
                <option value="pdb/aa/met.pdb">met.pdb</option>
                <option value="pdb/aa/phe.pdb">phe.pdb</option>
                <option value="pdb/aa/pro.pdb">pro.pdb</option>
                <option value="pdb/aa/ser.pdb">ser.pdb</option>
                <option value="pdb/aa/thr.pdb">thr.pdb</option>
                <option value="pdb/aa/trp.pdb">trp.pdb</option>
                <option value="pdb/aa/tyr.pdb">tyr.pdb</option>
                <option value="pdb/aa/val.pdb">val.pdb</option>
            </select>
        </div>

        <div id="renderControls">
            <div id="renderStick" class="controlButton"><img src="img/renderStick.png"/></div>
            <div id="renderBall" class="controlButton"><img src="img/renderBall.png"/></div>
            <div id="renderBlob" class="controlButton"><img src="img/renderBlob.png"/></div>
        </div>

        <div id="selectionControls">
            <div id="selectionInfo" class="controlButton"><img src="img/selectionInfo.png"/></div>
            <div id="selectionDistance" class="controlButton"><img src="img/selectionDistance.png"/></div>
            <div id="selectionRotation" class="controlButton"><img src="img/selectionRotation.png"/></div>
            <div id="selectionTorsion" class="controlButton"><img src="img/selectionTorsion.png"/></div>
        </div>

    </div>
</div>

<!--<script src="dist/wglmolview.bundle.js"></script>-->
<script src="dist/molview.bundle.js"></script>

<script>
    const config = window.molview_config || {
        pdbUrl: "pdb/aa/ala.pdb",
        domElement: "wglContent",
        infoElement: "wglInfo"
    };
    console.log(config);

    try {
        // Rendering options
        Utility.getElement("renderStick").onclick = () => {
            mv.setRenderMode(Constants.RENDERMODE_STICKS);
        };

        Utility.getElement("renderBall").onclick = () => {
            mv.setRenderMode(Constants.RENDERMODE_BALL_AND_STICK);
        };

        Utility.getElement("renderBlob").onclick = () => {
            mv.setRenderMode(Constants.RENDERMODE_SPACE_FILL);
        };

        // Selection options
        Utility.getElement("selectionInfo").onclick = () => {
            mv.setSelectionMode(Constants.SELECTIONMODE_IDENTIFY);
        };

        Utility.getElement("selectionDistance").onclick = () => {
            mv.setSelectionMode(Constants.SELECTIONMODE_DISTANCE);
        };

        Utility.getElement("selectionRotation").onclick = () => {
            mv.setSelectionMode(Constants.SELECTIONMODE_ROTATION);
        };

        Utility.getElement("selectionTorsion").onclick = () => {
            mv.setSelectionMode(Constants.SELECTIONMODE_TORSION);
        };

        // Molecule selection dropdown
        Utility.getElement("pdbSelect").onchange = e => {
            mv.loadPDB((e.target).value);
        };
    } catch (e) {
        // May not be running from HTML page with controls
        console.log(e)
    }
</script>
</body>
</html>
